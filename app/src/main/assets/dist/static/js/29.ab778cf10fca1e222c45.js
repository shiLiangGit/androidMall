webpackJsonp([29],{e4Kt:function(e,t){},"ea+T":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a("Gu7T"),s=a.n(r),i=a("Xxa5"),n=a.n(i),l=a("exGp"),o=a.n(l),c=a("U6Om"),u=a("teIl"),d=a("Y1D9"),f=a("ppua"),m={components:{Header:u.a,ZiXunStep:c.a,RefreshAndLoad:d.a,Blank:f.a},data:function(){return{all:0,area:1,dir:0,curItem:3,allArr:[{text:"综合排序",value:0},{text:"新款商品",value:1},{text:"活动商品",value:2}],areaArr:[{text:"所在地区",value:0},{text:"郑州",value:1},{text:"北京",value:2}],dirArr:[{text:"专业方向",value:0}],lawList:[],page:1,limit:5,loading:!1,isLoading:!1,finished:!1,major:0,lawyerId:"",cateId:"",cateName:"",lawyerName:""}},created:function(){this.getLawCate(),this.cateId=this.$route.params.sId,this.cateName=this.$route.params.cateName},methods:{getLawCate:function(){var e=this;return o()(n.a.mark(function t(){var a,r,s,i;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a={},r=[],s={},t.next=5,e.$Axios.post("/law/models",{},!1,!1);case 5:(a=t.sent)&&a.data&&(a.data.forEach(function(e){(s={}).text=e.name,s.value=e.id,r.push(s)}),(i=e.dirArr).push.apply(i,r),e.major=e.dirArr[0].value,e.refresh(e.major));case 7:case"end":return t.stop()}},t,e)}))()},refresh:function(){var e=this;return o()(n.a.mark(function t(){var a,r;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.page=1,a={page:e.page,limit:e.limit,major:e.major,name:e.name},t.next=4,e.$Axios.post("/lawyer/mobile/list",a);case 4:r=t.sent,e.isLoading=!1,e.finished=!1,r&&r.data?(e.lawList=r.data,e.page++):e.lawList=[];case 8:case"end":return t.stop()}},t,e)}))()},loadMore:function(){var e=this;return o()(n.a.mark(function t(){var a,r,i;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e.page<=1)){t.next=3;break}return e.loading=!1,t.abrupt("return",!1);case 3:return a={page:e.page,limit:e.limit,major:e.major,name:e.name},t.next=6,e.$Axios.post("/lawyer/mobile/list",a);case 6:r=t.sent,e.loading=!1,r&&r.data?((i=e.lawList).push.apply(i,s()(r.data)),e.page++):e.finished=!0;case 9:case"end":return t.stop()}},t,e)}))()},setRefresh:function(e){switch(e){case 1:case 2:break;case 3:this.major=this.dir}this.refresh()},setItem:function(e){this.curItem=e},addZiXun:function(e){this.$router.push({name:"addZiXun",params:{lawyerId:e.lawyerId,cateId:this.cateId,cateName:this.cateName,lawyerName:e.lawyerName}})},addYearServe:function(e){this.$router.push({name:"lawyerDetail",params:{lawId:e.lawyerId}})}}},p={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{staticClass:"content",attrs:{id:"ziXun"}},[a("Header",{attrs:{leftType:2,centerType:1,title:"在线咨询"}}),e._v(" "),a("ZiXunStep",{attrs:{step:2}}),e._v(" "),a("div",{staticClass:"zixun-box bg-white"},[a("van-dropdown-menu",{attrs:{"active-color":"#6190E8"}},[a("van-dropdown-item",{attrs:{"title-class":3==e.curItem?"curStyle":"",options:e.dirArr},on:{open:function(t){return e.setItem(3)},change:function(t){return e.setRefresh(3)}},model:{value:e.dir,callback:function(t){e.dir=t},expression:"dir"}})],1),e._v(" "),a("div",{staticClass:"laywer-box mlr20"},[a("div",{staticClass:"laywer-list"},[a("RefreshAndLoad",[a("van-pull-refresh",{on:{refresh:function(t){return e.refresh()}},model:{value:e.isLoading,callback:function(t){e.isLoading=t},expression:"isLoading"}},[a("van-list",{attrs:{finished:e.finished,"finished-text":"","immediate-check":!1},on:{load:function(t){return e.loadMore()}},model:{value:e.loading,callback:function(t){e.loading=t},expression:"loading"}},[e.lawList.length>0?a("div",e._l(e.lawList,function(t,r){return a("div",{key:r,staticClass:"flex ptb15"},[a("div",{staticClass:"laywer-left mr10"},[a("img",{attrs:{src:e._f("picUrl")(t.avatar),alt:""}})]),e._v(" "),a("div",{staticClass:"laywer-right flex-0"},[a("div",{staticClass:"laywer-tit "},[a("b",{staticClass:"text-grey fts16 fw300 mr15"},[e._v(e._s(t.lawyerName))])]),e._v(" "),a("p",{staticClass:"fts12 law-intro overflow-1 mtb8"},[e._v(e._s(t.lawFirm))]),e._v(" "),a("p",{staticClass:"text-grey overflow-1 fts12 mtb8"},[e._v(e._s(t.majors))]),e._v(" "),a("div",{staticClass:"laywer-btn text-right"},[a("button",{staticClass:"grey-bg ml25 plr10 fts12 active",on:{click:function(a){return e.addZiXun(t)}}},[e._v("单次咨询")]),e._v(" "),a("button",{staticClass:"grey-bg ml25 plr10 fts12 active",on:{click:function(a){return e.addYearServe(t)}}},[e._v("包年服务")])])])])}),0):a("Blank")],1)],1)],1)],1)])],1)],1)},staticRenderFns:[]};var v=a("VU/8")(m,p,!1,function(e){a("e4Kt")},"data-v-34e3a5a5",null);t.default=v.exports}});