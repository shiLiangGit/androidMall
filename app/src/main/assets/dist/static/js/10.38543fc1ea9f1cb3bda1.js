webpackJsonp([10],{CfRG:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAADQElEQVRoQ+2azXHaUBCAdzVyfLSgApixuMapwLgCu4OQI3CIXUFMBYED+Bi7A1JBcAUhV8gMuAFQbsZm3maf4IFGCCQhIcEMOqInvf129+2fQDjwCw9cfvAFMB4GORDv15qGRpyw4lVvWHd5K+o7NwIYzV5JQ/wRdROv54moS28nV1Eh1gJIzWs0HRDAPwRqA+EwDhBCKPKml/JdcUCsBcg2+/fsYN94m6dRpVCKQ3j5juV7Z2+MCuEPQFAbVc372AEIG4SCrYEfo0CkCAA18abX8fS9EwUiVQBpWeP7wIgCkTqAdM0oEHsBEAVibwC2hdgrABui2btARD7YcBYkOu0dQFiI1AAIiDP7puxOOQ6vOZXsxtXCJ69clBpA2MQ4qpiesiYOoFwEAla3SFSXiW6vAMJoP9PqywN9eQQIo7U41x4tAD7ltF3fa0Cjsllza9546Bc19l8h6MWqFh5X7rf6txrCmQD9ySrnOayuXju3QLbV56YNQEz0jLs9zLR6XbtUBngeV8yiUzyZcbld/U0EL+Oqacf7VACUkALhyiqbHSWErX2CX7NEBBYLmXEKmG312CL4WRB98bKOWrtzC6gN3ADqdyWIMwzK8lk7nY5lv00TPbepsd85QLb5tw5IXwXAnVUx63aiUgMBgp/cVxsyjgvU88rPF31xgHY1AYB58+8QZuEeLLQmpiU5HHBaKNPsDyWYn/alMnYOsPB1btJH1fNbpX01zVCzJeXri1nTfL1fzkgMQEWahUvNXWYJOJtuLM/M0qU2QewcQG4uQ6kEYJe4wQ/TAf/0zFHnxnkepEUE4uMsMgWfNSUHwKGSD2vD7e9OQE6KFiJcOw906i7kPGgy3jPAH3fSUrnCzgkeSS11F+Ko0paalYK484ETcN391AFUXOc2kbVfuHALpA52WO0nEkbVQQWY5gD0oVdRZkciAUWhQcdZbvj5f2IAQQTZdk0iUWhb4YI8dwTwa2iCaDHKmqMFjhaI4j+xlNMhCq+Isq48rjo3eSP0YMvRVXGRxp9ZtXg+s4aB5PF6aTbgXV+9pvahOyiILE9oclJc1zcH/asBz3ekJpK9uH/oWpXz9qZdfQGSFTn8bgcP8B/bKF1enwPXQAAAAABJRU5ErkJggg=="},kXkb:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a("Xxa5"),s=a.n(r),i=a("exGp"),c=a.n(i),n=a("mQuy"),o=a("teIl"),l=a("7/Lq"),f=a("BseR"),d={components:{Header:o.a,NiShenStep:n.a,PayModal:l.a},data:function(){return{question:"",showModal:!1,contractOrder:{realName:"",mobile:"",contractType:0,email:"",file:{}},curFile:{value:"",size:0,ext:""},contractName:""}},created:function(){this.contractOrder.contractType=this.$route.params.id||0,this.contractName=this.$route.params.conName||""},methods:{chooseFile:function(t){var e=this.$refs.file.value;if(null==e||""==e)return f.a.toast("请选择要上传的文件!"),!1;if(-1==e.lastIndexOf("."))return f.a.toast("文件路径不正确!"),!1;var a=e.substring(e.lastIndexOf(".")).toLowerCase();if(-1==".doc|.docx|".indexOf(a+"|")){var r="该文件类型不允许上传。请上传 .doc|.docx| 类型的文件，当前文件类型为"+a;return f.a.toast(r),!1}this.curFile.value=this.$refs.file.value,this.curFile.ext=a,this.contractOrder.file=this.$refs.file.files[0];var s=this.contractOrder.file.size;this.curFile.size=parseFloat(s/1024/1024).toPrecision(2)},delFile:function(){this.curFile.value="",this.contractOrder.file={}},subContract:function(){var t=this;return c()(s.a.mark(function e(){var a,r;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.checkLogin()){e.next=2;break}return e.abrupt("return");case 2:if(t.contractOrder.realName){e.next=5;break}return f.a.toast("请先输入姓名"),e.abrupt("return",!1);case 5:if(t.checkPhone(t.contractOrder.mobile)){e.next=7;break}return e.abrupt("return");case 7:if(t.checkMail(t.contractOrder.email)){e.next=9;break}return e.abrupt("return");case 9:return(a=new FormData).append("realName",t.contractOrder.realName),a.append("mobile",t.contractOrder.mobile),a.append("contractType",t.contractOrder.contractType),a.append("email",t.contractOrder.email),a.append("file",t.contractOrder.file),e.next=17,t.$Axios.filePost("/examined/create/order",a,!0);case 17:(r=e.sent)&&r.obj&&setTimeout(function(){t.$router.push({name:"payNiShen",params:{orderNo:r.obj}})},300);case 19:case"end":return e.stop()}},e,t)}))()},showPay:function(){console.log(this.showModal),this.showModal=!0},getPayInfo:function(t){console.log(t)},toOther:function(t){this.$router.push({name:t})}}},u={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("section",{staticClass:"content",attrs:{id:"ziXun"}},[r("Header",{attrs:{leftType:2,centerType:1,title:"创建订单"}}),t._v(" "),r("NiShenStep",{attrs:{step:1}}),t._v(" "),r("div",{staticClass:"zixun-box mlr10 bg-white radius5"},[r("div",{staticClass:"plr10"},[r("div",{staticClass:"cell-item flex justify-between ptb20"},[r("span",{staticClass:"text-grey fts16 fw600"},[t._v("合同类型")]),t._v(" "),r("span",{staticClass:"text-light fts14"},[t._v("\n                    "+t._s(t.contractName)+"\n                ")])]),t._v(" "),t._m(0),t._v(" "),r("div",{staticClass:"file-form flex pb20"},[r("span",{staticClass:"text-grey fts16 fr10 text-right self-center"},[t._v("姓名")]),t._v(" "),r("div",{staticClass:"fts14 flex-auto"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.contractOrder.realName,expression:"contractOrder.realName"}],staticClass:"wd80",attrs:{type:"text",placeholder:"请输入您的姓名"},domProps:{value:t.contractOrder.realName},on:{input:function(e){e.target.composing||t.$set(t.contractOrder,"realName",e.target.value)}}})])]),t._v(" "),r("div",{staticClass:"file-form flex pb20"},[r("span",{staticClass:"text-grey fts16 fr10 text-right self-center"},[t._v("联系方式")]),t._v(" "),r("div",{staticClass:"fts14 flex-auto"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.contractOrder.mobile,expression:"contractOrder.mobile"}],staticClass:"wd80",attrs:{type:"text",placeholder:"请输入您的联系方式"},domProps:{value:t.contractOrder.mobile},on:{input:function(e){e.target.composing||t.$set(t.contractOrder,"mobile",e.target.value)}}})])]),t._v(" "),r("div",{staticClass:"file-form cell-item flex pb20"},[r("span",{staticClass:"text-grey fts16 fr10 text-right self-center"},[t._v("电子邮箱")]),t._v(" "),r("div",{staticClass:"fts14 flex-auto"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.contractOrder.email,expression:"contractOrder.email"}],staticClass:"wd80",attrs:{type:"text",placeholder:"请输入您的电子邮箱"},domProps:{value:t.contractOrder.email},on:{input:function(e){e.target.composing||t.$set(t.contractOrder,"email",e.target.value)}}})])]),t._v(" "),r("div",{staticClass:"cell-item flex justify-between ptb20"},[r("span",{staticClass:"text-grey fts16 fw600"},[t._v("上传附件")]),t._v(" "),t.curFile.value?r("div",{staticClass:"file-info flex input-text align-center"},[r("img",{staticClass:"relative top-2",attrs:{src:a("CfRG"),alt:""}}),t._v(" "),r("div",{staticClass:"mlr2 flex-0"},[r("div",{staticClass:"info-cont overflow-1 fts13 text-grey"},[t._v(t._s(t.contractOrder.file.name))]),t._v(" "),r("div",{staticClass:"info-cont overflow-1 fts12 text-grey-little"},[t._v(t._s(t.curFile.size)+" M")])]),t._v(" "),r("van-icon",{staticClass:"close-icon fts18 pointer",attrs:{name:"cross"},on:{click:t.delFile}})],1):r("div",{staticClass:"relative upload-label"},[r("button",{staticClass:"grey-bg active plr15 fts12 file-btn"},[t._v("选择文件")]),t._v(" "),r("input",{ref:"file",staticClass:"upload-input",attrs:{type:"file",value:"选择文件"},on:{change:t.chooseFile}})])])])]),t._v(" "),r("div",{staticClass:"mlr10 mtb30"},[r("button",{staticClass:"grey-bg active wd100 create-btn",on:{click:t.subContract}},[t._v("创建订单")])]),t._v(" "),r("PayModal",{attrs:{payModal:t.showModal},on:{"update:payModal":function(e){t.showModal=e},"update:pay-modal":function(e){t.showModal=e},payInfo:t.getPayInfo}})],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"flex ptb20"},[e("span",{staticClass:"text-grey fts16 fw600"},[this._v("买家信息")]),this._v(" "),e("div",{staticClass:"text-light fts14  flex-auto"})])}]};var p=a("VU/8")(d,u,!1,function(t){a("sZpS")},"data-v-2cc13c19",null);e.default=p.exports},sZpS:function(t,e){}});