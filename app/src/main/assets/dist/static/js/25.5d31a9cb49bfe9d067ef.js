webpackJsonp([25],{"52Xv":function(e,t){},"M/F+":function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s("Xxa5"),a=s.n(r),i=s("exGp"),n=s.n(i),o=s("U6Om"),l=s("teIl"),c=s("qCxf"),u=s("BseR"),d={mixins:[c.a],components:{Header:l.a,ZiXunStep:o.a},data:function(){return{register:{mobile:"",sms:"",passwd:"",oldPasswd:""}}},methods:{toRegister:function(){var e=this;return n()(a.a.mark(function t(){var s,r;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.checkPhone(e.register.mobile)){t.next=2;break}return t.abrupt("return");case 2:if(e.checkSmsCode(e.register.sms)){t.next=4;break}return t.abrupt("return");case 4:if(e.checkPassword(e.register.passwd)){t.next=6;break}return t.abrupt("return");case 6:if(e.checkPassword(e.register.oldPasswd)){t.next=8;break}return t.abrupt("return");case 8:if(e.register.passwd==e.register.oldPasswd){t.next=11;break}return u.a.toast("两次密码不一致，请重新输入"),t.abrupt("return",!1);case 11:return t.next=13,e.$Axios.post("/auth/get/key/"+e.register.mobile);case 13:if(!(s=t.sent).msg){t.next=20;break}return r={mobile:e.register.mobile,sms:e.register.sms,passwd:CryptoJs.encrypt(e.register.passwd,s.msg)||""},t.next=18,e.$Axios.post("/user/register",r,!0);case 18:t.sent&&setTimeout(function(){e.$router.push({name:"accountLogin",params:{hasLogin:!0}})},400);case 20:case"end":return t.stop()}},t,e)}))()},toOther:function(e){this.$router.push({name:e,params:{hasLogin:!0}})}}},m={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("section",{staticClass:"content plr20 hg100 bg-white",attrs:{id:"login"}},[s("Header",{attrs:{leftType:2,centerType:1,title:"登录"}}),e._v(" "),s("h2",{staticClass:"text-blue welcome"},[e._v("hi 欢迎来到百法网")]),e._v(" "),s("div",{staticClass:"form"},[s("div",{staticClass:"form-item flex ptb15"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.register.mobile,expression:"register.mobile"}],staticClass:"flex-auto",attrs:{type:"text",placeholder:"输入手机号"},domProps:{value:e.register.mobile},on:{input:function(t){t.target.composing||e.$set(e.register,"mobile",t.target.value)}}})]),e._v(" "),s("div",{staticClass:"form-item flex ptb15"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.register.sms,expression:"register.sms"}],staticClass:"flex-auto mr10",attrs:{type:"text",placeholder:"输入验证码"},domProps:{value:e.register.sms},on:{input:function(t){t.target.composing||e.$set(e.register,"sms",t.target.value)}}}),e._v(" "),s("button",{staticClass:"fts15",attrs:{disabled:!e.register.mobile||e.time<60},on:{click:function(t){return e.getSmsCode("register","mobile")}}},[e._v(e._s(e.codeText))])]),e._v(" "),s("div",{staticClass:"form-item flex ptb15"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.register.passwd,expression:"register.passwd"}],staticClass:"flex-auto",attrs:{type:"text",placeholder:"输入密码"},domProps:{value:e.register.passwd},on:{input:function(t){t.target.composing||e.$set(e.register,"passwd",t.target.value)}}})]),e._v(" "),s("div",{staticClass:"form-item flex ptb15"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.register.oldPasswd,expression:"register.oldPasswd"}],staticClass:"flex-auto",attrs:{type:"text",placeholder:"再次输入密码"},domProps:{value:e.register.oldPasswd},on:{input:function(t){t.target.composing||e.$set(e.register,"oldPasswd",t.target.value)}}})])]),e._v(" "),s("van-button",{staticClass:"auth-btn wd100 mb20 fts18",attrs:{disabled:!(e.register.mobile&&e.register.sms&&e.register.passwd&&e.register.oldPasswd)},on:{click:e.toRegister}},[e._v("注册")]),e._v(" "),s("div",{staticClass:"other-btn flex justify-between"},[s("span",{staticClass:"fts15",on:{click:function(t){return e.toOther("accountLogin")}}},[e._v("去登录")])])],1)},staticRenderFns:[]};var p=s("VU/8")(d,m,!1,function(e){s("52Xv")},"data-v-5842171c",null);t.default=p.exports}});