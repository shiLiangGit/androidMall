webpackJsonp([14],{URgp:function(e,t){},dcKu:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n("Xxa5"),s=n.n(o),a=n("exGp"),i=n.n(a),r=n("U6Om"),c=n("teIl"),u=n("qCxf"),l=n("BseR"),p={mixins:[u.a],components:{Header:c.a,ZiXunStep:r.a},data:function(){return{phoneInfo:{mobile:"",code:""},hasLogin:!1}},created:function(){this.hasLogin=this.$route.params.hasLogin||!1},methods:{login:function(){var e=this;return i()(s.a.mark(function t(){var n,o;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.checkPhone(e.phoneInfo.mobile)){t.next=2;break}return t.abrupt("return");case 2:if(e.checkSmsCode(e.phoneInfo.code)){t.next=4;break}return t.abrupt("return");case 4:return n=e.phoneInfo,t.next=7,e.$Axios.post("/auth/account/token/"+e.phoneInfo.mobile,n);case 7:(o=t.sent)&&o.obj&&(l.a.toast("登录成功"),e.$Storage.set("userInfo",o.obj),e.$Storage.set("token",o.msg),e.$Bus.$emit("hasLogin",o.obj),setTimeout(function(){0==e.hasLogin?e.$router.go(-1):e.$router.push({name:"index"})},400));case 9:case"end":return t.stop()}},t,e)}))()},toOther:function(e){this.$router.push({name:e})},toLogin:function(e){this.$router.push({name:e,params:{hasLogin:!0}})}}},f={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"content plr20 hg100 bg-white",attrs:{id:"login"}},[n("Header",{attrs:{leftType:2,centerType:1,title:"登录"}}),e._v(" "),n("h2",{staticClass:"text-blue welcome"},[e._v("hi 欢迎来到百法网")]),e._v(" "),n("div",{staticClass:"form"},[n("div",{staticClass:"form-item flex ptb15"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.phoneInfo.mobile,expression:"phoneInfo.mobile"}],staticClass:"flex-auto",attrs:{type:"text",placeholder:"输入手机号"},domProps:{value:e.phoneInfo.mobile},on:{input:function(t){t.target.composing||e.$set(e.phoneInfo,"mobile",t.target.value)}}})]),e._v(" "),n("div",{staticClass:"form-item flex ptb15"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.phoneInfo.code,expression:"phoneInfo.code"}],staticClass:"flex-auto mr10",attrs:{type:"text",placeholder:"输入验证码"},domProps:{value:e.phoneInfo.code},on:{input:function(t){t.target.composing||e.$set(e.phoneInfo,"code",t.target.value)}}}),e._v(" "),n("button",{staticClass:"fts15",attrs:{disabled:!e.phoneInfo.mobile||e.time<60},on:{click:function(t){return e.getSmsCode("phoneInfo","mobile")}}},[e._v(e._s(e.codeText))])])]),e._v(" "),n("div",{staticClass:"fts15 text-blue mtb15",on:{click:function(t){return e.toLogin("accountLogin")}}},[e._v("账号密码登录")]),e._v(" "),n("van-button",{staticClass:"auth-btn wd100 mb20 fts18",attrs:{disabled:!(e.phoneInfo.mobile&&e.phoneInfo.code)},on:{click:e.login}},[e._v("登录")]),e._v(" "),n("div",{staticClass:"other-btn flex justify-between"},[n("span",{staticClass:"fts15",on:{click:function(t){return e.toOther("register")}}},[e._v("立即注册")]),e._v(" "),n("span",{staticClass:"fts15"},[e._v("忘记密码")])])],1)},staticRenderFns:[]};var h=n("VU/8")(p,f,!1,function(e){n("URgp")},"data-v-e4732466",null);t.default=h.exports}});